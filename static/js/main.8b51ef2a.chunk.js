(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1ibMv",searchForm:"Searchbar_searchForm__2vA4S",button:"Searchbar_button__12S87",input:"Searchbar_input__1n9aJ"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__3Zrb1",modal:"Modal_modal__3ktKC",image:"Modal_image__2qsso"}},22:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__flOCJ",image:"ImageGalleryItem_image__1Wvuh"}},23:function(e,t,a){e.exports={Link:"Button_Link__3fnki",button:"Button_button__uH37o"}},24:function(e,t,a){e.exports={app:"App_app__3to35",loaderWrapper:"App_loaderWrapper__1QRhI"}},39:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__38h9q"}},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=a(25),l=a(4),s=a.n(l),u=a(9),p=a(5),d=a(6),h=a(8),m=a(7),b=a(37),g=a.n(b),j=(a(67),a(68)),f="https://pixabay.com/api/",v="23902018-2ad96957ecb94a5813d6bfdc3",y="photo",x="horizontal";function _(e,t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("".concat(f,"?q=").concat(t,"&page=").concat(a,"&key=").concat(v,"&image_type=").concat(y,"&orientation=").concat(x,"&per_page=").concat(12));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var k=a(38),w=a(41),M=a(10),S=a.n(M),C=a(1),L=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){return e.setState(Object(k.a)({},t.target.name,t.target.value))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(C.jsx)("header",{className:S.a.searchbar,children:Object(C.jsxs)("form",{className:S.a.searchForm,onSubmit:this.props.onSubmit,children:[Object(C.jsx)("button",{className:S.a.button,type:"submit",children:Object(C.jsx)(w.a,{})}),Object(C.jsx)("input",{className:S.a.input,name:"query",value:this.state.query,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),N=a(22),I=a.n(N);function q(e){var t=e.image,a=e.onMaximize,n=t.id,r=t.webformatURL,o=t.largeImageURL,c=t.tags;return Object(C.jsx)("li",{className:I.a.galleryItem,children:Object(C.jsx)("img",{className:I.a.image,id:n,src:r,alt:c,onClick:a,"data-large":o})})}var R=a(39),U=a.n(R);function z(e){var t=e.collection,a=e.onMaximize;return Object(C.jsx)("ul",{className:U.a.imageGallery,children:t.map((function(e){return Object(C.jsx)(q,{image:e,onMaximize:a},e.id)}))})}var F=a(40),A=a(23),B=a.n(A);function D(e){var t=e.handleClick;return Object(C.jsx)(F.Link,{className:B.a.Link,activeClass:"active",to:"loadMoreButton",smooth:!0,duration:500,children:Object(C.jsx)("button",{className:B.a.button,type:"button",onClick:t,id:"loadMoreButton",children:"Load more"})})}var G=a(16),W=a.n(G),E=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){return"Escape"===t.code&&e.props.closeModal()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,a=e.alt,n=e.closeModal;return Object(C.jsx)("div",{className:W.a.overlay,onClick:n,children:Object(C.jsx)("div",{className:W.a.modal,children:Object(C.jsx)("img",{className:W.a.image,src:t,alt:"large "+a})})})}}]),a}(n.Component),J=a(24),K=a.n(J),H=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,query:"",total:0,collection:[],loading:!1,largeURL:""},e.handleSubmit=function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),a.target[1].value){t.next=4;break}return e.setState({collection:[]}),t.abrupt("return");case 4:return e.setState({loading:!0}),t.next=7,_(a.target[1].value,1);case 7:n=t.sent,e.setState({page:1,total:n.total,query:a.target[1].value,collection:n.hits,loading:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLoadMore=function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),t.next=4,_(e.state.query,e.state.page+1);case 4:n=t.sent,e.setState((function(e){return{page:e.page+1,collection:[].concat(Object(i.a)(e.collection),Object(i.a)(n.hits)),loading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleImageMaximize=function(t){var a=t.target;return e.setState({largeURL:a.dataset.large})},e.handleCloseModal=function(){return e.setState({largeURL:""})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.query,a=e.total,n=e.collection,r=e.loading,o=e.largeURL;return Object(C.jsxs)("div",{className:K.a.app,children:[Object(C.jsx)(L,{onSubmit:this.handleSubmit}),Object(C.jsx)(z,{collection:n,onMaximize:this.handleImageMaximize}),r&&Object(C.jsx)("div",{className:K.a.loaderWrapper,children:Object(C.jsx)(g.a,{type:"Rings",color:"#00BFFF",height:120,width:120})}),!r&&n.length>0&&a>n.length&&Object(C.jsx)(D,{handleClick:this.handleLoadMore}),o&&Object(C.jsx)(E,{imageURL:o,alt:t,closeModal:this.handleCloseModal})]})}}]),a}(n.Component);a(96);c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(H,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.8b51ef2a.chunk.js.map