(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__3Zrb1",modal:"Modal_modal__3ktKC",image:"Modal_image__2qsso"}},19:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__flOCJ",image:"ImageGalleryItem_image__1Wvuh"}},20:function(e,t,a){e.exports={Link:"Button_Link__3fnki",button:"Button_button__uH37o"}},21:function(e,t,a){e.exports={app:"App_app__3to35",loaderWrapper:"App_loaderWrapper__1QRhI"}},28:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__38h9q"}},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=a(22),l=a(7),s=a.n(l),u=a(18),h=a(3),d=a(4),p=a(6),m=a(5),b=a(26),g=a.n(b);a(56);function j(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23902018-2ad96957ecb94a5813d6bfdc3","&image_type=").concat("photo","&orientation=").concat("horizontal","&per_page=").concat(12)).then((function(e){return e.json()})).catch(console.log)}var f=a(27),v=a(30),y=a(8),_=a.n(y),x=a(1),O=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(x.jsx)("header",{className:_.a.searchbar,children:Object(x.jsxs)("form",{className:_.a.searchForm,onSubmit:this.props.onSubmit,children:[Object(x.jsx)("button",{className:_.a.button,type:"submit",children:Object(x.jsx)(v.a,{})}),Object(x.jsx)("input",{className:_.a.input,name:"query",value:this.state.query,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),k=a(19),w=a.n(k);function M(e){var t=e.image,a=e.onMaximize,n=t.id,r=t.webformatURL,o=t.largeImageURL,c=t.tags;return Object(x.jsx)("li",{className:w.a.galleryItem,children:Object(x.jsx)("img",{className:w.a.image,id:n,src:r,alt:c,onClick:a,"data-large":o})})}var S=a(28),C=a.n(S);function L(e){var t=e.collection,a=e.onMaximize;return Object(x.jsx)("ul",{className:C.a.imageGallery,children:t.map((function(e){return Object(x.jsx)(M,{image:e,onMaximize:a},e.id)}))})}var N=a(29),I=a(20),R=a.n(I);function q(e){var t=e.handleClick;return Object(x.jsx)(N.Link,{className:R.a.Link,activeClass:"active",to:"loadMoreButton",smooth:!0,duration:500,children:Object(x.jsx)("button",{className:R.a.button,type:"button",onClick:t,id:"loadMoreButton",children:"Load more"})})}var U=a(12),z=a.n(U),F=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){return"Escape"===t.code&&e.props.closeModal()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,a=e.closeModal;return Object(x.jsx)("div",{className:z.a.overlay,onClick:a,children:Object(x.jsx)("div",{className:z.a.modal,children:Object(x.jsx)("img",{className:z.a.image,src:t,alt:""})})})}}]),a}(n.Component),A=a(21),B=a.n(A),D=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,query:"",total:0,collection:[],loading:!1,largeURL:""},e.handleSubmit=function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.target[1].value){t.next=2;break}return t.abrupt("return");case 2:return a.preventDefault(),e.setState({loading:!0}),t.next=6,j(a.target[1].value,1);case 6:n=t.sent,e.setState({page:1,total:n.total,query:a.target[1].value,collection:n.hits,loading:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLoadMore=function(){var t=Object(u.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),t.next=4,j(e.state.query,e.state.page+1);case 4:n=t.sent,e.setState((function(e){return{page:e.page+1,collection:[].concat(Object(i.a)(e.collection),Object(i.a)(n.hits)),loading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleImageMaximize=function(t){var a=t.target;return e.setState({largeURL:a.dataset.large})},e.handleCloseModal=function(){return e.setState({largeURL:""})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.total,a=e.collection,n=e.loading,r=e.largeURL;return Object(x.jsxs)("div",{className:B.a.app,children:[Object(x.jsx)(O,{onSubmit:this.handleSubmit}),Object(x.jsx)(L,{collection:a,onMaximize:this.handleImageMaximize}),n&&Object(x.jsx)("div",{className:B.a.loaderWrapper,children:Object(x.jsx)(g.a,{type:"Rings",color:"#00BFFF",height:120,width:120})}),a.length>0&&t>a.length&&Object(x.jsx)(q,{handleClick:this.handleLoadMore}),r&&Object(x.jsx)(F,{imageURL:r,closeModal:this.handleCloseModal})]})}}]),a}(n.Component);a(66);c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1ibMv",searchForm:"Searchbar_searchForm__2vA4S",button:"Searchbar_button__12S87",input:"Searchbar_input__1n9aJ"}}},[[67,1,2]]]);
//# sourceMappingURL=main.9d0c52e3.chunk.js.map